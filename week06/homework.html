<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title></title>
	<style type="text/css">
		
	</style>
</head>
<body>
	<script type="text/javascript">
		// 'abcabcabx'
		function match(string) {
			// 将函数赋值给一个变量
			let state = start;
			for(let c of string){
				state = state(c);
			}
			return state === end;
		}
		
		function start(c) {
			if (c === 'a') {
				return foundA;
			} else {
				return start;
			}
		}
		
		function end(c) {
			return end;
		}
		
		function foundA(c) {
			if (c === 'b') {
				return foundB;
			} else {
				return start(c);
			}
		}
		
		function foundB(c) {
			if (c === 'c') {
				return foundA2;
			} else {
				return start(c);
			}
		}
		
		function foundA2(c) {
			if (c === 'a') {
				return foundB2;
			} else {
				return start(c);
			}
		}
		
		function foundB2(c) {
			if (c === 'b') {
				return foundX;
			} else {
				return start(c);
			}
		}
		
		function foundX(c) {
			if (c === 'x') {
				return end;
			} else if (c === 'c') {
				return foundA2;
			} else {
				return start(c);
			}
		}
		
		console.log(match('abcabababcabx'));
		
		// 'abc abcabx'
	</script>
</body>
</html>